# Maintainer: wangjiezhe <wangjiezhe AT yandex DOT com>

_name=cheroot
pkgver=5.7.0
pkgname=(python-${_name}-$pkgver python2-${_name}-$pkgver)
pkgrel=1
pkgdesc="Highly-optimized, pure-python HTTP server"
arch=('any')
url="https://github.com/cherrypy/cheroot"
license=('BSD')
source=("https://files.pythonhosted.org/packages/source/${_name::1}/${_name}/${_name}-${pkgver}.tar.gz")
md5sums=('9d7fd13b673cde93c26a04b4aa5fa9a1')

prepare() {
  cp -a "$srcdir/$_name-$pkgver"{,-py2}
}

package_python-cheroot-5.7.0() {
  depends=('python-six')
  makedepends=('python-setuptools-scm')
  cd "$srcdir/$_name-$pkgver"
  python setup.py install --root="$pkgdir/" --optimize=1
}

package_python2-cheroot-5.7.0() {
  depends=('python2-six')
  makedepends=('python2-setuptools-scm')
  cd "$srcdir/$_name-$pkgver-py2"
  python2 setup.py install --root="$pkgdir/" --optimize=1
}

# vim:set ts=2 sw=2 et:
